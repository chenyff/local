<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>自定义滚动条</title>
    <style>
        #parent {
            width: 600px;
            height: 20px;
            background: #ccc;
            position: relative;
            margin: 10px auto;
        }

        #box {
            width: 20px;
            height: 20px;
            background: red;
            position: absolute;
            left: 0;
            top: 0;
        }
        #fox{
            width: 300px;
            height: 300px;
            border: 1px solid #000;
            position: relative;
            overflow: hidden;
        }
        #baby{
            position: absolute;
            top:0;
        }
        
    </style>
</head>

<body>
    <div id="parent">
        <div id="box"></div>
    </div>
    <div id="fox">
        <div id="baby">
            也许有一天我会飞起来，
            噗啦噗啦飞的那种飞，
            飞到更高更远的地方去，
            在山的那边海的那边有一群小傻逼，
            他们可爱有聪明
            相传在很久很久以前，
            有一群人类
            每当夜幕降临的时候
            她们就会举行古老的仪式
            放奏一首古老的歌曲
            叫做社会摇
            也许有一天我会飞起来，
            噗啦噗啦飞的那种飞，
            飞到更高更远的地方去，
            在山的那边海的那边有一群小傻逼，
            他们可爱有聪明
            相传在很久很久以前，
            有一群人类
            每当夜幕降临的时候
            她们就会举行古老的仪式
            放奏一首古老的歌曲
            叫做社会摇
            也许有一天我会飞起来，
            噗啦噗啦飞的那种飞，
            飞到更高更远的地方去，
            在山的那边海的那边有一群小傻逼，
            他们可爱有聪明
            相传在很久很久以前，
            有一群人类
            每当夜幕降临的时候
            她们就会举行古老的仪式
            放奏一首古老的歌曲
            叫做社会摇
            也许有一天我会飞起来，
            噗啦噗啦飞的那种飞，
            飞到更高更远的地方去，
            在山的那边海的那边有一群小傻逼，
            他们可爱有聪明
            相传在很久很久以前，
            有一群人类
            每当夜幕降临的时候
            她们就会举行古老的仪式
            放奏一首古老的歌曲
            叫做社会摇
            也许有一天我会飞起来，
            噗啦噗啦飞的那种飞，
            飞到更高更远的地方去，
            在山的那边海的那边有一群小傻逼，
            他们可爱有聪明
            相传在很久很久以前，
            有一群人类
            每当夜幕降临的时候
            她们就会举行古老的仪式
            放奏一首古老的歌曲
            叫做社会摇

        </div>
    </div>
    <script>
        window.onload = function () {
            var oDiv = document.getElementById("box");
            var parentBox = document.getElementById("parent");
            var fox = document.getElementById("fox");
            var txtbox = document.getElementById("baby");
            var disx = 0;
            oDiv.onmousedown = function (ev) {
                var oEvent = ev || event;
                disx = oEvent.clientX - oDiv.offsetLeft;
                document.onmousemove = function (ev) {
                    var oEvent = ev || event;
                    var l = oEvent.clientX - disx;
                    if (l < 0) {
                        l = 0;
                    } else if (l > parentBox.offsetWidth - oDiv.offsetWidth) {
                        l = parentBox.offsetWidth - oDiv.offsetWidth;
                    }
                    oDiv.style.left = l + 'px';
                    var scale = l / (parentBox.offsetWidth - oDiv.offsetWidth);
                    txtbox.style.top = -scale*(txtbox.offsetHeight-fox.offsetHeight)+'px';
                    
                }
                document.onmouseup = function () {
                    document.onmousemove = null;
                    document.onmouseup = null;
                }
                return false;
            }

        }
    </script>
</body>

</html>