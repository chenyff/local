<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>小说网站</title>
    <script src="vue.min.js"></script>
    <script src="bower_components/vue-router/dist/vue-router.min.js"></script>
</head>
<body>
    <div id="box">
        <a v-link="{path:'/login'}">登录注册</a>
        <a v-link="{path:'/search'}">读书</a>
        <router-view></router-view>
    </div>
    <template id="login">
        <div>
            登录注册栏
        </div>
    </template>
    <template id="search">
        <div>选一本小说看看</div>
        <a v-link="{path:'/search/detail/2423?a=12'}">斗破苍穹</a>
        <a v-link="{path:'/search/detail/3452?a=33'}">武动乾坤</a>
        <router-view></router-view>
    </template>
    <template id="detail">
        <h1>{{$route.params | json}}</h1>
        <h1>{{$route.path}}</h1>
        <h1>{{$route.query | json}}</h1>
        <need :params='$route.params'></need>
    </template>
    <template id="need">
        <h1>你好</h1>
        <button @click='s'>我想看下数据</button>
    </template>
    <script>
        Vue.filter('aaa',function(val){
            console.log(val);
        })
        var app = Vue.extend();

        var router = new VueRouter();

        router.map({
            'login':{
                component:{
                    template:'#login'
                }
            },
            'search':{
                component:{
                    template:'#search'
                },
                subRoutes:{
                    '/detail/:id':{
                        component:{
                            template:'#detail',
                            components:{
                                'need':{
                                    props:['params'],
                                    template:'#need',
                                    methods:{
                                        's':function(){
                                            
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        });
        router.start(app,'#box');
        router.redirect({
            '/':'login'
        })
        
    </script>
</body>
</html>